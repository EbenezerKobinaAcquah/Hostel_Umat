{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Sidebar1 from\"components/Sidebar1\";import StudentProfile from\"components/StudentProfile\";import Footer from\"components/Footer\";import{useNavigate}from\"react-router-dom\";import DataTable from\"react-data-table-component\";import{SubmissionService}from\"components/Services/SubmissionService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const SubmissionList=()=>{const[isOpen,setIsOpen]=useState(false);const openNav=()=>{setIsOpen(true);};function handleNavigate(){const win=window.open(\"https://umat.edu.gh\",\"_blank\");}const navigate=useNavigate();const handleMySubmissionsClick=()=>{navigate(\"/MySubmissions\");};const columns=[{name:\"id\",selector:row=>row.id.toString(),sortable:true},{name:\"Title\",selector:row=>row.title.toString(),sortable:true},{name:\"TrasitionState\",selector:row=>row.transitionState,sortable:true},{name:\"Date Submitted\",selector:row=>row.submissionDate,sortable:true},{name:\"Last Modified\",selector:row=>row.submissionDate,sortable:true}];const[records,setRecords]=useState([]);const[initialData,setInitialData]=useState([]);useEffect(()=>{SubmissionService.getUserSubmissions().then(data=>{console.log(data);const reconstructedData=data.map(row=>({id:row.id,title:row.title,transitionState:row.transitionState,submissionDate:row.submissionDate.toString(),LastModified:row.submissionDate.toString()}));setRecords(reconstructedData);setInitialData(reconstructedData);}).catch(error=>console.error(\"Error fetching submissions:\",error));},[]);function handleFilter(event){const query=event.target.value.toLowerCase();const newData=initialData.filter(row=>row.title.toLowerCase().includes(query));setRecords(query?newData:initialData);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\" flex flex-col-3 md:h-full page-content bg-white-A700 font-inika mx-auto relative w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:relative col-span-1\",children:/*#__PURE__*/_jsx(Sidebar1,{openNav:openNav,className:\"h-full bg-teal-900 flex justify-start left-[0] top-[0]\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-gray-100 col-span-2 items-center justify-start  h-full md:ml-[0] w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:mb-[10%] mb-[20%]\",children:/*#__PURE__*/_jsx(StudentProfile,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"md:pl-[5%] md:pr-[5%] \",children:/*#__PURE__*/_jsxs(\"div\",{className:\" bg-white-A700 shadow-md \",children:[/*#__PURE__*/_jsx(\"div\",{className:\" md:ml-[80%] pr-5 pt-5  \",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleFilter})}),/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:\"60vh\"},children:[\" \",/*#__PURE__*/_jsx(DataTable,{columns:columns,data:records,fixedHeader:true,pagination:true})]})]})}),/*#__PURE__*/_jsx(Footer,{})]})]})});};export default SubmissionList;","map":{"version":3,"names":["React","useState","useEffect","Sidebar1","StudentProfile","Footer","useNavigate","DataTable","SubmissionService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SubmissionList","isOpen","setIsOpen","openNav","handleNavigate","win","window","open","navigate","handleMySubmissionsClick","columns","name","selector","row","id","toString","sortable","title","transitionState","submissionDate","records","setRecords","initialData","setInitialData","getUserSubmissions","then","data","console","log","reconstructedData","map","LastModified","catch","error","handleFilter","event","query","target","value","toLowerCase","newData","filter","includes","children","className","type","onChange","style","minHeight","fixedHeader","pagination"],"sources":["C:/Users/ebene/Downloads/umat_acc_application-v1.0.2/src/pages/MySubmissions/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport { Menu, MenuItem } from \"react-pro-sidebar\";\r\n\r\nimport { Button, Img, Line, Text } from \"components\";\r\nimport Sidebar1 from \"components/Sidebar1\";\r\nimport StudentProfile from \"components/StudentProfile\";\r\nimport SidebarOverlay from \"components/SidebarOverlay\";\r\nimport Footer from \"components/Footer\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport DataTable, { TableColumn } from \"react-data-table-component\";\r\n\r\nimport { Submission } from \"components/Models/submissions\";\r\nimport { SubmissionService } from \"components/Services/SubmissionService\";\r\n\r\ninterface ReconstructedDataRow {\r\n  id: number;\r\n  transitionState: number;\r\n  title: string;\r\n  submissionDate: string;\r\n  LastModified: string;\r\n}\r\n\r\nconst SubmissionList: React.FC = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const openNav = () => {\r\n    setIsOpen(true);\r\n  };\r\n\r\n  function handleNavigate() {\r\n    const win = window.open(\"https://umat.edu.gh\", \"_blank\");\r\n  }\r\n  const navigate = useNavigate();\r\n  const handleMySubmissionsClick = () => {\r\n    navigate(\"/MySubmissions\");\r\n  };\r\n\r\n  const columns: TableColumn<ReconstructedDataRow>[] = [\r\n    {\r\n      name: \"id\",\r\n      selector: (row) => row.id.toString(),\r\n      sortable: true,\r\n    },\r\n\r\n    {\r\n      name: \"Title\",\r\n      selector: (row) => row.title.toString(),\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: \"TrasitionState\",\r\n      selector: (row) => row.transitionState,\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: \"Date Submitted\",\r\n      selector: (row) => row.submissionDate,\r\n      sortable: true,\r\n    },\r\n\r\n    {\r\n      name: \"Last Modified\",\r\n      selector: (row) => row.submissionDate,\r\n      sortable: true,\r\n    },\r\n  ];\r\n\r\n  const [records, setRecords] = useState<ReconstructedDataRow[]>([]);\r\n  const [initialData, setInitialData] = useState<ReconstructedDataRow[]>([]);\r\n\r\n  useEffect(() => {\r\n    SubmissionService.getUserSubmissions()\r\n      .then((data) => {\r\n        console.log(data);\r\n        const reconstructedData: ReconstructedDataRow[] = data.map((row) => ({\r\n          id: row.id,\r\n          title: row.title,\r\n          transitionState: row.transitionState,\r\n          submissionDate: row.submissionDate.toString(),\r\n          LastModified: row.submissionDate.toString(),\r\n        }));\r\n\r\n        setRecords(reconstructedData);\r\n        setInitialData(reconstructedData);\r\n      })\r\n      .catch((error) => console.error(\"Error fetching submissions:\", error));\r\n  }, []);\r\n\r\n  function handleFilter(event: React.ChangeEvent<HTMLInputElement>) {\r\n    const query = event.target.value.toLowerCase();\r\n    const newData = initialData.filter((row) =>\r\n      row.title.toLowerCase().includes(query)\r\n    );\r\n    setRecords(query ? newData : initialData);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\" flex flex-col-3 md:h-full page-content bg-white-A700 font-inika mx-auto relative w-full\">\r\n        <div className=\"md:relative col-span-1\">\r\n          <Sidebar1\r\n            openNav={openNav}\r\n            className=\"h-full bg-teal-900 flex justify-start left-[0] top-[0]\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"relative bg-gray-100 col-span-2 items-center justify-start  h-full md:ml-[0] w-full\">\r\n          <div className=\"md:mb-[10%] mb-[20%]\">\r\n            <StudentProfile />\r\n          </div>\r\n\r\n          <div className=\"md:pl-[5%] md:pr-[5%] \">\r\n            <div className=\" bg-white-A700 shadow-md \">\r\n              <div className=\" md:ml-[80%] pr-5 pt-5  \">\r\n                <input type=\"text\" onChange={handleFilter} />\r\n              </div>\r\n              <div style={{ minHeight: \"60vh\" }}> {/* Set a minimum height */}\r\n              <DataTable\r\n                columns={columns}\r\n                data={records}\r\n                fixedHeader\r\n                pagination\r\n              />\r\n            </div>\r\n            </div>\r\n          </div>\r\n          <Footer />\r\n        </div>\r\n        \r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SubmissionList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}